<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://kit.fontawesome.com/74f06fdcd6.js"></script>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
       <section>
           <h1>User details</h1>
           <table>

              <thead>
                 
                  <tr>
                      <th><label for="SelectAll"><input type="checkbox" id= "SelectAll">Select All</label></th>      
                       <th>S.N</th> 
                       <tdhName</th> 
                       <th>User</th> 
                       <th>Email</th> 
                       <th>Status</th>
                       <th>Action</th>

                  </tr>
                  <tbody id="Tbody">
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>01</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>02</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>03</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>04</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>05</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>06</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>07</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>08</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>09</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>10</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>11</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>12</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>13</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>14</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>15</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>16</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>17</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                      <tr>
                          <td><input type="checkbox" class="select"></td>
                          <td>18</td>
                          <td>Saam Khagvdshoi</td>
                          <td>Admin</td>
                          <td>Admin@gaim</td>
                          <td></td>
                          <td><i class="fa fa-edit"></i> | <i class="fa fa-trash"></i></td>
                      </tr>
                  </tbody>
              </thead>
           </table>
           <button><i class="fa fa-trash"></i>Delete All</button>
       </section>
        <section>
            <div>
                <select id="Select">
                    <option value="3" selected>3</option>
                    <option value="5">5</option>
                    <option value="7">7</option>
                    <option value="9">9</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="15">15</option>
                </select>
            </div>
            <ul class="pagination" id="pagination_id">
                <li class="prev"><a href="#" id="prev">&#139;</a></li>
                <li class="next"><a href="#" id="next">&#155;</a></li>
            </ul>
        </section>
    </body>
</html>

<script>


   let tbody = document.querySelector('Tbody');
   let tr = tbody.getElementsByTagName('tr');
   let select = document.getElementById('Select');
   let ul = document.getElementById('pagination_id');

let arrayTr = [];
for(let i = 0; i< tr.length; i++){
    arrayTr.push(tr[i]);
}

select.onchange = rowCount;

function rowCount(e){
    let neil = ul.querySelectorAll('.list');
    neil.forEach(n => n.remove());
    let limit = parseInt(e.target.value);
    displayPage(limit);
}
function displayPage(limit){
    tbody.innerHTML = "";
    for(let i = 0; i < limit ; i++){
        tbody.appendChild(arrayTr[i]);
    }
    bouttonGenerator(limit);
}
displayPage(3);



function bouttonGenerator(limit){
    const nofTr = arrayTr.length;
    if(nofTr <= limit){
        ul.style.display = "none";
    }else{
        ul.style.display = "flex"
        const nofPage = Math.ceil(nofTr/limit);
        for(i  = 1 ; i<= nofPage; i++){
            let li = document.createElement('li');
            li.className = "list";
            
            let a = document.createElement('a');
            a.href = "#";
            a.setAttribute('data-page' , i);
            li.appendChild(a);
            a.innerText = i;
            ul.insertBefore(li, ul.querySelector(".next"));
           
            a.onclick = e => {
                let x = e.target.getAttribute('data-page');
                tbody.innerHTML = "";
                x--;
                let start = limit * x;
                let end = start + limit;
                let page = arrayTr.slice(start, end);
                
                for(let i = 0; i < page.length; i++)
                {
                    let item = page[i];
                    tbody.appendChild(item);
                }
            }
        }
    }
    let z = 0;
    function nextElement(){
       if(this.id == "next"){
           z == arrayTr.length - limit ? (z = 0): (z += limit);
       }
       if(this.id == 'prev'){
           z == 0 ? arrayTr.length - limit : (z -= limit);
       }
       tbody.innerHTML = '';
       for(let c = z; c < z + limit; c++){
           tbody.appendChild(arrayTr[c]);
       }
    }
      document.getElementById('prev').onclick = nextElement;
      document.getElementById('next').onclick = nextElement;


}

</script>